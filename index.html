<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>StudentHub | Results</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    :root {
      --primary: #ff2d75;
      --primary-light: #ff6b9d;
      --secondary: #4d00ff;
      --accent: #00f0ff;
      --success: #00ff9d;
      --warning: #ffcc00;
      --danger: #ff2d75;
      --bg: #0f0c29;
      --card-bg: rgba(25, 23, 45, 0.85);
      --text: #ffffff;
      --text-muted: #a0a0c0;
      --border: rgba(255, 255, 255, 0.1);
      --shadow: 0 10px 30px rgba(255, 45, 117, 0.3);
      --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Quicksand', sans-serif;
      background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    /* === LOADER === */
    #globalLoader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--bg);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 99999;
      opacity: 1;
      transition: opacity 0.8s ease;
    }
    .loader-content {
      text-align: center;
    }
    .loader-spinner {
      width: 80px;
      height: 80px;
      border: 6px solid rgba(255,255,255,0.1);
      border-top: 6px solid var(--primary);
      border-radius: 50%;
      animation: spin 1.2s linear infinite, pulseGlow 2s infinite alternate;
      margin: 0 auto 24px;
    }
    .loader-text {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.8rem;
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(0, 240, 255, 0.4);
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    @keyframes pulseGlow {
      0% { box-shadow: 0 0 10px var(--primary); }
      100% { box-shadow: 0 0 30px var(--accent); }
    }

    /* Animated background elements */
    .bg-element {
      position: absolute;
      border-radius: 50%;
      filter: blur(60px);
      opacity: 0.3;
      z-index: -1;
    }
    .bg-element-1 {
      width: 300px;
      height: 300px;
      background: linear-gradient(135deg, var(--primary), var(--accent));
      top: 10%;
      left: 5%;
      animation: float 15s infinite ease-in-out;
    }
    .bg-element-2 {
      width: 400px;
      height: 400px;
      background: linear-gradient(135deg, var(--secondary), var(--success));
      bottom: 10%;
      right: 5%;
      animation: float 18s infinite ease-in-out reverse;
    }
    .bg-element-3 {
      width: 200px;
      height: 200px;
      background: linear-gradient(135deg, var(--warning), var(--primary));
      top: 60%;
      left: 20%;
      animation: float 12s infinite ease-in-out;
    }
    @keyframes float {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(20px, 20px); }
      50% { transform: translate(-20px, 20px); }
      75% { transform: translate(20px, -20px); }
    }

    .header {
      background: rgba(15, 12, 41, 0.7);
      backdrop-filter: blur(12px);
      padding: 18px 24px;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      border-bottom: 1px solid var(--border);
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .logo-icon {
      width: 52px;
      height: 52px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.5rem;
      box-shadow: 0 0 25px rgba(255, 45, 117, 0.6);
      animation: pulse 2s infinite;
      position: relative;
      overflow: hidden;
    }
    .logo-icon::after {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
      transform: rotate(30deg);
      animation: shine 3s infinite;
    }
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(255, 45, 117, 0.7); }
      70% { box-shadow: 0 0 0 15px rgba(255, 45, 117, 0); }
      100% { box-shadow: 0 0 0 0 rgba(255, 45, 117, 0); }
    }
    @keyframes shine {
      0% { transform: rotate(30deg) translateX(-100%); }
      100% { transform: rotate(30deg) translateX(100%); }
    }
    .logo-text {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 2.2rem;
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(0, 240, 255, 0.3);
    }
    .main-container {
      display: flex;
      flex-direction: column;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      gap: 24px;
    }
    @media (min-width: 992px) {
      .main-container {
        flex-direction: row;
        padding: 28px;
      }
    }
    .nav-container {
      background: var(--card-bg);
      backdrop-filter: blur(12px);
      border-radius: 28px;
      padding: 32px 0;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      position: relative;
      overflow: hidden;
    }
    .nav-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,45,117,0.1), rgba(77,0,255,0.1));
      z-index: -1;
    }
    @media (min-width: 992px) {
      .nav-container {
        width: 270px;
        position: sticky;
        top: 100px;
        height: fit-content;
      }
    }
    .nav-title {
      padding: 0 32px 24px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 1.6rem;
      color: var(--accent);
      display: flex;
      align-items: center;
      gap: 14px;
      text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
    }
    .nav-menu {
      list-style: none;
      padding: 0 16px;
    }
    .nav-item {
      padding: 18px 32px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 16px;
      font-weight: 700;
      font-size: 1.1rem;
      border-radius: 20px;
      margin: 6px 0;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid transparent;
    }
    .nav-item::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,45,117,0.3), rgba(77,0,255,0.3));
      opacity: 0;
      transition: var(--transition);
      z-index: -1;
    }
    .nav-item::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 0;
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      transition: width 0.4s ease;
      z-index: -1;
    }
    .nav-item:hover::before,
    .nav-item.active::before {
      opacity: 1;
    }
    .nav-item:hover::after,
    .nav-item.active::after {
      width: 100%;
    }
    .nav-item i {
      font-size: 1.4rem;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .content-area {
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .content-area.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }
    .section {
      background: var(--card-bg);
      backdrop-filter: blur(12px);
      border-radius: 28px;
      padding: 36px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      animation: fadeInUp 0.6s ease forwards;
      position: relative;
      overflow: hidden;
    }
    .section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent), var(--success));
    }
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .section-header {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 32px;
    }
    .section-icon {
      width: 64px;
      height: 64px;
      border-radius: 20px;
      background: linear-gradient(135deg, rgba(255,45,117,0.3), rgba(77,0,255,0.3));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      background-image: linear-gradient(135deg, var(--primary), var(--secondary));
      box-shadow: 0 0 20px rgba(255, 45, 117, 0.3);
    }
    .section-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 2.2rem;
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(0, 240, 255, 0.3);
    }

    /* === Enhanced Notifications === */
    .notification-list {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }
    .notification-card {
      background: rgba(30, 28, 50, 0.7);
      border-radius: 24px;
      padding: 28px;
      display: flex;
      gap: 24px;
      border-left: 5px solid var(--primary);
      transition: var(--transition);
      box-shadow: 0 6px 16px rgba(0,0,0,0.2);
      position: relative;
      overflow: hidden;
    }
    .notification-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 45, 117, 0.1));
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .notification-card:hover::before {
      opacity: 1;
    }
    .notification-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 24px rgba(255, 45, 117, 0.4);
    }
    .notification-icon {
      width: 60px;
      height: 60px;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(255,45,117,0.3), rgba(77,0,255,0.3));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.6rem;
      color: var(--accent);
      box-shadow: 0 0 15px rgba(255, 45, 117, 0.3);
    }
    .notification-title {
      font-weight: 700;
      font-size: 1.3rem;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 14px;
      flex-wrap: wrap;
    }
    .notification-badge {
      background: linear-gradient(135deg, var(--warning), #ff9900);
      color: var(--text);
      padding: 6px 18px;
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 700;
      box-shadow: 0 0 10px rgba(255, 204, 0, 0.6);
      animation: badgePulse 1.5s infinite alternate;
    }
    @keyframes badgePulse {
      0% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 204, 0, 0.6); }
      100% { transform: scale(1.1); box-shadow: 0 0 20px rgba(255, 204, 0, 0.9); }
    }
    .notification-text {
      color: var(--text-muted);
      line-height: 1.6;
      font-size: 1.05rem;
    }

    /* === Enhanced Timings Section === */
    .timings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 25px;
    }
    .timing-card {
      background: rgba(30, 28, 50, 0.7);
      border-radius: 24px;
      padding: 32px;
      text-align: center;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      border: 1px solid var(--border);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      position: relative;
      overflow: hidden;
    }
    .timing-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
    }
    .timing-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 30px rgba(255, 45, 117, 0.4);
    }
    .timing-day {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 1.4rem;
      color: var(--accent);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .timing-subject {
      font-size: 1.3rem;
      margin: 16px 0;
      color: var(--text);
      font-weight: 600;
    }
    .timing-time {
      font-weight: 800;
      color: var(--success);
      font-size: 1.2rem;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    /* === Marksheet Redesign === */
    .marksheet-card {
      background: rgba(30, 28, 50, 0.7);
      border-radius: 28px;
      overflow: hidden;
      margin-top: 28px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      position: relative;
    }
    .marksheet-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent), var(--success));
    }
    .marksheet-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 40px rgba(255, 45, 117, 0.4);
    }
    .marksheet-header {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 32px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .marksheet-header::after {
      content: '';
      position: absolute;
      top: -50px;
      right: -50px;
      width: 200px;
      height: 200px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.1);
    }
    .marksheet-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 2rem;
      text-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    }
    .student-info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 24px;
      padding: 32px;
      background: rgba(20, 18, 35, 0.6);
    }
    .info-item {
      text-align: center;
    }
    .info-label {
      font-size: 0.95rem;
      color: var(--text-muted);
      display: block;
      margin-bottom: 8px;
    }
    .info-value {
      font-weight: 700;
      font-size: 1.3rem;
      color: var(--text);
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    /* Subject Selector */
    .subject-selector {
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 0 24px 28px;
      flex-wrap: wrap;
    }
    .subject-btn {
      padding: 14px 32px;
      border-radius: 50px;
      background: rgba(20, 18, 35, 0.6);
      border: 2px solid var(--border);
      color: var(--text);
      font-weight: 700;
      font-size: 1.15rem;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      min-width: 160px;
      text-align: center;
    }
    .subject-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .subject-btn:hover,
    .subject-btn.active {
      background: transparent;
      color: white;
      border-color: transparent;
      transform: scale(1.05);
      box-shadow: 0 0 20px rgba(255, 45, 117, 0.5);
    }
    .subject-btn:hover::before,
    .subject-btn.active::before {
      opacity: 1;
    }

    /* Subject Section */
    .subject-section {
      display: none;
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .subject-section.active {
      display: block;
      opacity: 1;
      transform: translateY(0);
    }

    /* Subject Card */
    .subject-card {
      background: rgba(20, 18, 35, 0.6);
      border-radius: 24px;
      padding: 32px;
      margin-top: 28px;
      border-top: 5px solid var(--accent);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }
    .subject-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 5px;
      height: 100%;
      background: linear-gradient(to bottom, var(--primary), var(--secondary));
    }
    .subject-card:hover {
      transform: translateY(-6px);
      box-shadow: 0 12px 28px rgba(255, 45, 117, 0.3);
    }
    .subject-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    .subject-name {
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 1.8rem;
      color: var(--text);
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .subject-status {
      padding: 10px 24px;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1rem;
    }
    .status-pass {
      background: linear-gradient(135deg, rgba(0,255,157,0.2), rgba(0,200,120,0.2));
      color: var(--success);
      border: 1px solid rgba(0,255,157,0.3);
    }
    .status-fail {
      background: linear-gradient(135deg, rgba(255,45,117,0.2), rgba(200,30,90,0.2));
      color: var(--danger);
      border: 1px solid rgba(255,45,117,0.3);
    }
    .marks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 24px;
      margin-bottom: 28px;
    }
    .mark-item {
      background: rgba(30, 28, 50, 0.7);
      padding: 24px;
      border-radius: 20px;
      text-align: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid var(--border);
    }
    .mark-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.5s ease;
    }
    .mark-item:hover::before {
      transform: scaleX(1);
    }
    .mark-item:hover {
      transform: translateY(-4px);
      box-shadow: 0 6px 16px rgba(255, 45, 117, 0.4);
    }
    .mark-label {
      font-size: 0.95rem;
      color: var(--text-muted);
      margin-bottom: 10px;
    }
    .mark-value {
      font-weight: 800;
      font-size: 1.5rem;
      color: var(--text);
      background: linear-gradient(135deg, var(--accent), var(--success));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .progress-container {
      height: 12px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 6px;
      overflow: hidden;
      margin-top: 16px;
    }
    .progress-bar {
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      border-radius: 6px;
      animation: grow 1s ease forwards;
      box-shadow: 0 0 10px rgba(255, 45, 117, 0.3);
    }
    @keyframes grow {
      from { width: 0; }
      to { width: var(--width); }
    }
    .grade-badge {
      display: inline-block;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      padding: 12px 28px;
      border-radius: 50px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 800;
      font-size: 1.4rem;
      margin-top: 20px;
      box-shadow: 0 0 25px rgba(255, 45, 117, 0.6);
      animation: float 3s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }
    .grade-badge::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      animation: shine 2s infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* Test Info */
    .test-info {
      display: flex;
      justify-content: center;
      gap: 20px;
      flex-wrap: wrap;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
    }
    .test-info-item {
      text-align: center;
      padding: 12px 20px;
      background: rgba(30, 28, 50, 0.5);
      border-radius: 16px;
      min-width: 140px;
    }
    .test-info-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-bottom: 6px;
    }
    .test-info-value {
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--accent);
    }

    /* === Search + CAPTCHA === */
    .search-box {
      position: relative;
      max-width: 100%;
      margin: 0 auto 24px;
    }
    .search-input,
    .captcha-input {
      width: 100%;
      padding: 18px 24px 18px 64px;
      border: 2px solid var(--border);
      border-radius: 20px;
      font-size: 1.15rem;
      outline: none;
      transition: var(--transition);
      background: rgba(20, 18, 35, 0.6);
      color: white;
      margin-bottom: 16px;
    }
    .search-input::placeholder,
    .captcha-input::placeholder {
      color: var(--text-muted);
    }
    .search-input:focus,
    .captcha-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 4px rgba(255, 45, 117, 0.4);
    }
    .search-icon,
    .captcha-icon {
      position: absolute;
      left: 26px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
      font-size: 1.4rem;
    }
    .captcha-display {
      text-align: center;
      font-family: 'Courier New', monospace;
      font-size: 1.8rem;
      font-weight: bold;
      letter-spacing: 8px;
      padding: 12px;
      background: rgba(0,0,0,0.2);
      border-radius: 12px;
      margin: 10px 0 20px;
      color: var(--accent);
      text-shadow: 0 0 10px rgba(0, 240, 255, 0.5);
      user-select: none;
    }
    .search-btn {
      display: block;
      width: 100%;
      max-width: 340px;
      margin: 0 auto;
      padding: 16px;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      border-radius: 20px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 1.25rem;
      cursor: pointer;
      transition: var(--transition);
      box-shadow: 0 0 25px rgba(255, 45, 117, 0.6);
      position: relative;
      overflow: hidden;
    }
    .search-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s;
    }
    .search-btn:hover::before {
      left: 100%;
    }
    .search-btn:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 0 30px rgba(255, 45, 117, 0.8);
    }
    .hidden {
      display: none !important;
    }
    footer {
      text-align: center;
      padding: 36px 0;
      color: var(--text-muted);
      font-size: 1rem;
      margin-top: auto;
      border-top: 1px solid var(--border);
    }

    /* Test Selector Buttons */
    .test-selector-container {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
      margin: 20px 0;
    }
    .test-selector-btn {
      padding: 12px 24px;
      border-radius: 50px;
      background: rgba(20, 18, 35, 0.6);
      border: 2px solid var(--border);
      color: var(--text);
      font-weight: 700;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .test-selector-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      z-index: -1;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .test-selector-btn:hover,
    .test-selector-btn.active {
      background: transparent;
      color: white;
      border-color: transparent;
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 0 20px rgba(255, 45, 117, 0.5);
    }
    .test-selector-btn:hover::before,
    .test-selector-btn.active::before {
      opacity: 1;
    }

    /* === 9th & 10th Test Special View === */
    #ninthTestView,
    #tenthTestView {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    #ninthTestView.active,
    #tenthTestView.active {
      display: block;
      opacity: 1;
    }
    .sphere-chart {
      position: relative;
      display: inline-block;
    }
    .sphere-chart svg {
      filter: drop-shadow(0 0 15px rgba(0, 240, 255, 0.4));
    }
    .sphere-label {
      margin-top: 12px;
      font-size: 1.1rem;
      color: var(--text-muted);
      font-weight: 600;
    }
    #countdownTimer,
    #tenthCountdownTimer {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--warning);
      margin: 20px 0;
      height: 40px;
    }
    .marks-grid.ninth {
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .student-info-grid,
      .marks-grid {
        grid-template-columns: 1fr;
      }
      .subject-selector,
      .test-selector-container,
      .test-info {
        flex-direction: column;
        align-items: center;
      }
      .subject-btn,
      .test-selector-btn,
      .test-info-item {
        width: 100%;
        max-width: 300px;
      }
      .notification-card {
        flex-direction: column;
        align-items: flex-start;
      }
      .notification-icon {
        align-self: center;
        margin-bottom: 16px;
      }
    }
  </style>
</head>
<body>
  <!-- LOADER -->
  <div id="globalLoader">
    <div class="loader-content">
      <div class="loader-spinner"></div>
      <div class="loader-text">Loading StudentHub...</div>
    </div>
  </div>

  <!-- Background elements -->
  <div class="bg-element bg-element-1"></div>
  <div class="bg-element bg-element-2"></div>
  <div class="bg-element bg-element-3"></div>

  <!-- Header -->
  <header class="header">
    <div class="logo">
      <div class="logo-icon"><i class="fas fa-graduation-cap"></i></div>
      <div class="logo-text">StudentHub</div>
    </div>
  </header>

  <div class="main-container">
    <!-- Navigation -->
    <nav class="nav-container">
      <div class="nav-title"><i class="fas fa-th-large"></i> Menu</div>
      <ul class="nav-menu">
        <li class="nav-item active" data-target="notifications"><i class="fas fa-bell"></i> Notifications</li>
        <li class="nav-item" data-target="profile"><i class="fas fa-user"></i> Profile</li>
        <li class="nav-item" data-target="timings"><i class="fas fa-clock"></i> Timings</li>
        <li class="nav-item" data-target="results"><i class="fas fa-search"></i> Results</li>
      </ul>
    </nav>

    <!-- Content -->
    <main class="content">
      <!-- Notifications -->
      <div class="content-area active" id="notifications-content">
        <div class="section">
          <div class="section-header">
            <div class="section-icon"><i class="fas fa-bell"></i></div>
            <h2 class="section-title">Notifications</h2>
          </div>
          <div class="notification-list">
            <div class="notification-card">
              <div class="notification-icon"><i class="fas fa-calendar-alt"></i></div>
              <div class="notification-content">
                <div class="notification-title">
                  <span>ENGLISH TEST RESULTS ARE LIVE </span>
                  <span class="notification-badge">NEW</span>
                </div>
                <p class="notification-text">CHECK YOUR MARKS !</p>
              </div>
            </div>
            <div class="notification-card">
              <div class="notification-icon"><i class="fas fa-calendar-alt"></i></div>
              <div class="notification-content">
                <div class="notification-title">
                  <span>All Students shall observe Holiday on 20 Oct 2025 on the occasion of Diwali. Classes will resume on 21 Oct 2025!</span>
                  <span class="notification-badge">NEW</span>
                </div>
                <p class="notification-text">Wishing you a joyful and safe Diwali!</p>
              </div>
            </div>
            <div class="notification-card">
              <div class="notification-icon"><i class="fas fa-book"></i></div>
              <div class="notification-content">
                <div class="notification-title">
                  <span>Next TEST WILL BE HELD ON SUNDAY</span>
                  <span class="notification-badge">INFO</span>
                </div>
                <p class="notification-text">Prepare for the upcoming test on Sunday at 1 PM.</p>
              </div>
            </div>
            <div class="notification-card">
              <div class="notification-icon"><i class="fas fa-trophy"></i></div>
              <div class="notification-content">
                <div class="notification-title">
                  <span>1st TEST RESULTS PUBLISHED!</span>
                  <span class="notification-badge">NEW</span>
                </div>
                <p class="notification-text">Check your performance in the latest test.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Profile -->
      <div class="content-area" id="profile-content">
        <div class="section">
          <div class="section-header">
            <div class="section-icon"><i class="fas fa-user"></i></div>
            <h2 class="section-title">Student Profile</h2>
          </div>
          <div class="profile-container">
            <div class="profile-card" style="text-align: center; padding: 30px;">
              <div class="profile-avatar" style="width: 140px; height: 140px; margin: 0 auto 25px; border-radius: 50%; background: linear-gradient(135deg, var(--primary), var(--secondary)); display: flex; align-items: center; justify-content: center; color: white; font-size: 3.5rem; box-shadow: 0 0 30px rgba(255, 45, 117, 0.5);">
                <i class="fas fa-user"></i>
              </div>
              <h3 class="profile-name" id="studentName" style="font-family: 'Montserrat', sans-serif; font-size: 2rem; margin-bottom: 10px;">KAMAL KUMAR</h3>
              <p class="profile-role" style="font-size: 1.2rem; color: var(--text-muted); margin-bottom: 25px;">11th Grade Student</p>
              <div style="margin-top: 20px; display: flex; justify-content: center; gap: 25px;">
                <div style="text-align: center;">
                  <div style="font-family: 'Montserrat', sans-serif; font-size: 1.4rem; font-weight: 700; color: var(--accent); margin-bottom: 5px;">87%</div>
                  <div style="font-size: 0.95rem; color: var(--text-muted);">Overall Grade</div>
                </div>
                <div style="text-align: center;">
                  <div style="font-family: 'Montserrat', sans-serif; font-size: 1.4rem; font-weight: 700; color: var(--success); margin-bottom: 5px;">A</div>
                  <div style="font-size: 0.95rem; color: var(--text-muted);">Current Grade</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Timings -->
      <div class="content-area" id="timings-content">
        <div class="section">
          <div class="section-header">
            <div class="section-icon"><i class="fas fa-clock"></i></div>
            <h2 class="section-title">Class Timings</h2>
          </div>
          <div class="timings-grid">
            <div class="timing-card">
              <div class="timing-day"><i class="fas fa-sun"></i> Regular Days</div>
              <div class="timing-subject">ENGLISH</div>
              <div class="timing-time"><i class="fas fa-clock"></i> 3 PM & 4 PM</div>
            </div>
            <div class="timing-card">
              <div class="timing-day"><i class="fas fa-calendar-day"></i> Sundays</div>
              <div class="timing-subject">Tests</div>
              <div class="timing-time"><i class="fas fa-stopwatch"></i> 1 PM - 2 PM</div>
            </div>
            <div class="timing-card">
              <div class="timing-day"><i class="fas fa-flask"></i> Wednesdays</div>
              <div class="timing-subject">Biology Lab</div>
              <div class="timing-time"><i class="fas fa-microscope"></i> 2 PM - 4 PM</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Results -->
      <div class="content-area" id="results-content">
        <div class="section">
          <div class="section-header">
            <div class="section-icon"><i class="fas fa-search"></i></div>
            <h2 class="section-title">Search Results</h2>
          </div>
          <div class="search-box">
            <i class="fas fa-search search-icon"></i>
            <input type="number" class="search-input" id="rollNo" placeholder="Enter Roll Number (e.g., 7374)" />
          </div>
          <div class="search-box">
            <i class="fas fa-shield-alt captcha-icon"></i>
            <input type="text" class="captcha-input" id="captchaInput" placeholder="Enter CAPTCHA" maxlength="6" />
          </div>
          <div class="captcha-display" id="captchaDisplay"></div>
          <button class="search-btn" id="searchBtn">Search Result</button>

          <!-- Shiva Marksheet -->
          <div id="shivaMarksheet" class="marksheet-card hidden">
            <div class="marksheet-header">
              <h2 class="marksheet-title">Academic Results</h2>
            </div>
            <div class="student-info-grid">
              <div class="info-item"><span class="info-label">Name</span><span class="info-value" id="shivaResultName"></span></div>
              <div class="info-item"><span class="info-label">Roll No</span><span class="info-value" id="shivaResultRollNo"></span></div>
              <div class="info-item"><span class="info-label">Class</span><span class="info-value" id="shivaResultClass"></span></div>
            </div>
            <!-- Subject Selector for Shiva -->
            <div class="subject-selector">
              <button class="subject-btn active" data-subject="biology">Biology</button>
              <button class="subject-btn" data-subject="english">English</button>
            </div>
            <!-- Biology Section -->
            <div id="biologySection" class="subject-section active">
              <div class="test-selector-container" id="biologyTestSelector"></div>
              <div class="subject-card">
                <div class="subject-header">
                  <div class="subject-name">Biology</div>
                  <span class="subject-status" id="biologyStatus">PASS</span>
                </div>
                <div class="marks-grid">
                  <div class="mark-item"><span class="mark-label">Obtained</span><span class="mark-value" id="biologyMarks">90</span></div>
                  <div class="mark-item"><span class="mark-label">Max Marks</span><span class="mark-value" id="biologyMax">100</span></div>
                  <div class="mark-item"><span class="mark-label">Passing</span><span class="mark-value" id="biologyPassing">40</span></div>
                  <div class="mark-item"><span class="mark-label">%</span><span class="mark-value" id="biologyPercentage">90%</span></div>
                </div>
                <div class="progress-container">
                  <div class="progress-bar" id="biologyProgressBar"></div>
                </div>
                <div class="grade-badge" id="biologyGrade">A</div>
              </div>
            </div>
            <!-- English Section -->
            <div id="englishSection" class="subject-section">
              <div class="test-selector-container" id="englishTestSelector"></div>
              <div class="subject-card">
                <div class="subject-header">
                  <div class="subject-name">English</div>
                  <span class="subject-status" id="englishStatus">FAIL</span>
                </div>
                <div class="marks-grid">
                  <div class="mark-item"><span class="mark-label">Obtained</span><span class="mark-value" id="englishMarks">30</span></div>
                  <div class="mark-item"><span class="mark-label">Max Marks</span><span class="mark-value" id="englishMax">60</span></div>
                  <div class="mark-item"><span class="mark-label">Passing</span><span class="mark-value" id="englishPassing">45</span></div>
                  <div class="mark-item"><span class="mark-label">%</span><span class="mark-value" id="englishPercentage">50%</span></div>
                </div>
                <div class="progress-container">
                  <div class="progress-bar" id="englishProgressBar"></div>
                </div>
                <div class="grade-badge" id="englishGrade">D</div>
                <div class="test-info">
                  <div class="test-info-item">
                    <div class="test-info-label">Test</div>
                    <div class="test-info-value" id="englishTestName">1st Test</div>
                  </div>
                  <div class="test-info-item">
                    <div class="test-info-label">Date</div>
                    <div class="test-info-value" id="englishTestDate">12 Oct 2025</div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Kamal Special -->
          <div id="kamalMarksheet" class="marksheet-card hidden">
            <div class="marksheet-header">
              <h2 class="marksheet-title">English Results</h2>
            </div>
            <div class="student-info-grid">
              <div class="info-item"><span class="info-label">Name</span><span class="info-value" id="kamalResultName"></span></div>
              <div class="info-item"><span class="info-label">Roll No</span><span class="info-value" id="kamalResultRollNo"></span></div>
              <div class="info-item"><span class="info-label">Class</span><span class="info-value" id="kamalResultClass"></span></div>
            </div>
            <!-- Test Selector for Kamal -->
            <div class="test-selector-container">
              <button class="test-selector-btn active" data-test="0">1st Test</button>
              <button class="test-selector-btn" data-test="1">2nd Test</button>
              <button class="test-selector-btn" data-test="2">4th Test</button>
            </div>
            <div class="subject-card">
              <div class="subject-header">
                <div class="subject-name">English</div>
                <span class="subject-status" id="kamalStatus">PASS</span>
              </div>
              <div class="marks-grid">
                <div class="mark-item"><span class="mark-label">Obtained</span><span class="mark-value" id="kamalMarksObtained">57</span></div>
                <div class="mark-item"><span class="mark-label">Max Marks</span><span class="mark-value" id="kamalMaxMarks">70</span></div>
                <div class="mark-item"><span class="mark-label">Passing</span><span class="mark-value" id="kamalPassingMarks">54</span></div>
                <div class="mark-item"><span class="mark-label">%</span><span class="mark-value" id="kamalPercentage">81%</span></div>
              </div>
              <div class="progress-container">
                <div class="progress-bar" id="kamalProgressBar"></div>
              </div>
              <div class="grade-badge" id="kamalGrade">A</div>
            </div>
          </div>

          <!-- 9th Test Special View -->
          <div id="ninthTestView" class="section" style="display: none; opacity: 0;">
            <div class="section-header">
              <div class="section-icon"><i class="fas fa-vial"></i></div>
              <h2 class="section-title">9th Biology Test</h2>
            </div>
            <div class="text-center">
              <div id="countdownTimer">Results unlock in <span id="timerValue">10</span>s</div>
              <div id="sphereChartContainer" style="display: none; justify-content: center; margin: 30px 0;">
                <div class="sphere-chart">
                  <svg width="200" height="200" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="8"/>
                    <path id="progressArc" fill="none" stroke="url(#grad1)" stroke-width="8" stroke-linecap="round" d="" />
                    <text x="50" y="53" text-anchor="middle" font-size="18" font-weight="800" fill="var(--text)">84%</text>
                  </svg>
                  <div class="sphere-label">Biology • 9th Test</div>
                </div>
              </div>
              <div id="ninthTestDetails" style="display: none; margin-top: 30px;">
                <div class="marks-grid ninth">
                  <div class="mark-item"><span class="mark-label">Obtained</span><span class="mark-value">42</span></div>
                  <div class="mark-item"><span class="mark-label">Max Marks</span><span class="mark-value">50</span></div>
                  <div class="mark-item"><span class="mark-label">Passing</span><span class="mark-value">37</span></div>
                  <div class="mark-item"><span class="mark-label">Date</span><span class="mark-value">12 Oct 2025</span></div>
                </div>
                <div class="subject-status status-pass" style="margin-top: 20px; display: inline-block;">PASS</div>
                <div class="grade-badge" style="margin-top: 15px;">B+</div>
              </div>
            </div>
          </div>

          <!-- 10th Test Special View -->
          <div id="tenthTestView" class="section" style="display: none; opacity: 0;">
            <div class="section-header">
              <div class="section-icon"><i class="fas fa-vial"></i></div>
              <h2 class="section-title">10th Biology Test</h2>
            </div>
            <div class="text-center">
              <div id="tenthCountdownTimer">Results unlock in <span id="tenthTimerValue">20</span>s</div>
              <div id="tenthSphereChartContainer" style="display: none; justify-content: center; margin: 30px 0;">
                <div class="sphere-chart">
                  <svg width="200" height="200" viewBox="0 0 100 100">
                    <circle cx="50" cy="50" r="45" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="8"/>
                    <path id="tenthProgressArc" fill="none" stroke="url(#grad1)" stroke-width="8" stroke-linecap="round" d="" />
                    <text x="50" y="53" text-anchor="middle" font-size="18" font-weight="800" fill="var(--text)">56%</text>
                  </svg>
                  <div class="sphere-label">Biology • 10th Test</div>
                </div>
              </div>
              <div id="tenthTestDetails" style="display: none; margin-top: 30px;">
                <div class="marks-grid ninth">
                  <div class="mark-item"><span class="mark-label">Obtained</span><span class="mark-value">28</span></div>
                  <div class="mark-item"><span class="mark-label">Max Marks</span><span class="mark-value">50</span></div>
                  <div class="mark-item"><span class="mark-label">Passing</span><span class="mark-value">37</span></div>
                  <div class="mark-item"><span class="mark-label">Date</span><span class="mark-value">19 Oct 2025</span></div>
                </div>
                <div class="subject-status status-fail" style="margin-top: 20px; display: inline-block;">FAIL</div>
                <div class="grade-badge" style="margin-top: 15px;">D</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- FOOTER -->
  <footer>© 2025 Developed by MR Suraj Singh. All rights reserved.</footer>

  <script>
    // ========== LOADER ==========
    document.addEventListener("DOMContentLoaded", () => {
      const loader = document.getElementById("globalLoader");
      setTimeout(() => {
        loader.style.opacity = "0";
        setTimeout(() => loader.remove(), 800);
      }, 10000); // 10 seconds
    });

    // ========== CAPTCHA ==========
    function generateCaptcha() {
      const chars = "ABCDEFGHJKLMNPQRSTUVWXYZ23456789";
      let captcha = "";
      for (let i = 0; i < 6; i++) {
        captcha += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      document.getElementById("captchaDisplay").textContent = captcha;
      return captcha;
    }

    // ========== STUDENT DATA ==========
    const studentResults = [
      {
        rollNo: 7374,
        name: "Shiva",
        class: "11th",
        biology: [
          { marks: 39, maxMarks: 100, passingMarks: 40 },
          { marks: 90, maxMarks: 100, passingMarks: 40 },
          { marks: 78, maxMarks: 100, passingMarks: 40 },
          { marks: 88, maxMarks: 100, passingMarks: 40 },
          { marks: 92, maxMarks: 100, passingMarks: 40 },
          { marks: 34, maxMarks: 100, passingMarks: 40 },
          { marks: 30, maxMarks: 50, passingMarks: 39 },
          { marks: 38, maxMarks: 50, passingMarks: 37 },
          { marks: 42, maxMarks: 50, passingMarks: 37, date: "12 Oct 2025" },
          { marks: 28, maxMarks: 50, passingMarks: 37, date: "19 Oct 2025" }
        ],
        english: [
          { marks: 30, maxMarks: 60, passingMarks: 45, test: "1st Test", date: "12 Oct 2025" },
          { marks: 39, maxMarks: 60, passingMarks: 43, test: "2nd Test", date: "19 Oct 2025" }
        ]
      },
      {
        rollNo: 7375,
        name: "KAMAL KUMAR",
        class: "11th",
        ENGLISH: [
          { marks: 57, maxMarks: 70, passingMarks: 54 },
          { marks: 61, maxMarks: 70, passingMarks: 54 },
          { marks: 56, maxMarks: 70, passingMarks: 54 }
        ]
      }
    ];

    function getGrade(percentage) {
      if (percentage >= 90) return "A+";
      else if (percentage >= 80) return "A";
      else if (percentage >= 70) return "B+";
      else if (percentage >= 60) return "B";
      else if (percentage >= 50) return "C";
      else if (percentage >= 40) return "D";
      else return "F";
    }

    function renderBiologyResult(result, testIndex) {
      const test = result.biology[testIndex];
      const percentage = (test.marks / test.maxMarks) * 100;
      const status = test.marks >= test.passingMarks ? "PASS" : "FAIL";
      const grade = getGrade(percentage);
      document.getElementById("biologyMarks").textContent = test.marks;
      document.getElementById("biologyMax").textContent = test.maxMarks;
      document.getElementById("biologyPassing").textContent = test.passingMarks;
      document.getElementById("biologyPercentage").textContent = Math.round(percentage) + "%";
      document.getElementById("biologyStatus").textContent = status;
      document.getElementById("biologyStatus").className = "subject-status " + (status === "PASS" ? "status-pass" : "status-fail");
      document.getElementById("biologyGrade").textContent = grade;
      const bar = document.getElementById("biologyProgressBar");
      bar.style.setProperty('--width', percentage + '%');
      bar.style.width = percentage + '%';
    }

    function renderEnglishResult(result, testIndex = 0) {
      const test = result.english[testIndex];
      const percentage = (test.marks / test.maxMarks) * 100;
      const status = test.marks >= test.passingMarks ? "PASS" : "FAIL";
      const grade = getGrade(percentage);
      document.getElementById("englishMarks").textContent = test.marks;
      document.getElementById("englishMax").textContent = test.maxMarks;
      document.getElementById("englishPassing").textContent = test.passingMarks;
      document.getElementById("englishPercentage").textContent = Math.round(percentage) + "%";
      document.getElementById("englishStatus").textContent = status;
      document.getElementById("englishStatus").className = "subject-status " + (status === "PASS" ? "status-pass" : "status-fail");
      document.getElementById("englishGrade").textContent = grade;
      document.getElementById("englishTestName").textContent = test.test;
      document.getElementById("englishTestDate").textContent = test.date;
      const bar = document.getElementById("englishProgressBar");
      bar.style.setProperty('--width', percentage + '%');
      bar.style.width = percentage + '%';
    }

    function renderKamalResult(result, testIndex = 0) {
      const test = result.ENGLISH[testIndex];
      const percentage = (test.marks / test.maxMarks) * 100;
      const status = test.marks >= test.passingMarks ? "PASS" : "FAIL";
      const grade = getGrade(percentage);
      document.getElementById("kamalResultName").textContent = result.name;
      document.getElementById("kamalResultRollNo").textContent = result.rollNo;
      document.getElementById("kamalResultClass").textContent = result.class;
      document.getElementById("kamalMarksObtained").textContent = test.marks;
      document.getElementById("kamalMaxMarks").textContent = test.maxMarks;
      document.getElementById("kamalPassingMarks").textContent = test.passingMarks;
      document.getElementById("kamalPercentage").textContent = Math.round(percentage) + "%";
      document.getElementById("kamalStatus").textContent = status;
      document.getElementById("kamalStatus").className = "subject-status " + (status === "PASS" ? "status-pass" : "status-fail");
      document.getElementById("kamalGrade").textContent = grade;
      const bar = document.getElementById("kamalProgressBar");
      bar.style.setProperty('--width', percentage + '%');
      bar.style.width = percentage + '%';
    }

    function generateBiologyTestSelectorButtons(count) {
      const ordinals = ["1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th", "9th", "10th"];
      let html = '';
      for (let i = 0; i < count; i++) {
        const label = ordinals[i] || (i + 1) + "th";
        html += `<button class="test-selector-btn ${i === 0 ? 'active' : ''}" data-test="${i}">${label} Test</button>`;
      }
      document.getElementById("biologyTestSelector").innerHTML = html;
    }

    function generateEnglishTestSelectorButtons(count) {
      const ordinals = ["1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th", "9th", "10th"];
      let html = '';
      for (let i = 0; i < count; i++) {
        const label = ordinals[i] || (i + 1) + "th";
        html += `<button class="test-selector-btn ${i === 0 ? 'active' : ''}" data-test="${i}">${label} Test</button>`;
      }
      document.getElementById("englishTestSelector").innerHTML = html;
    }

    function renderNinthTestView() {
      const timerEl = document.getElementById("timerValue");
      const countdownEl = document.getElementById("countdownTimer");
      const chartContainer = document.getElementById("sphereChartContainer");
      const detailsEl = document.getElementById("ninthTestDetails");
      let timeLeft = 10;
      timerEl.textContent = timeLeft;
      chartContainer.style.display = "none";
      detailsEl.style.display = "none";
      const countdown = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(countdown);
          countdownEl.style.display = "none";
          chartContainer.style.display = "flex";
          detailsEl.style.display = "block";
          const percentage = 84;
          const radius = 45;
          const circumference = 2 * Math.PI * radius;
          const offset = circumference - (percentage / 100) * circumference;
          const arc = document.getElementById("progressArc");
          arc.setAttribute("d", `M 5 50 A 45 45 0 1 1 ${50 + radius} ${50}`);
          arc.setAttribute("stroke-dasharray", circumference);
          arc.setAttribute("stroke-dashoffset", circumference);
          const svg = arc.closest('svg');
          if (!svg.querySelector('defs')) {
            const defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
            const grad = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient");
            grad.setAttribute("id", "grad1");
            grad.setAttribute("x1", "0%");
            grad.setAttribute("y1", "0%");
            grad.setAttribute("x2", "100%");
            grad.setAttribute("y2", "100%");
            const stop1 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
            stop1.setAttribute("offset", "0%");
            stop1.setAttribute("style", "stop-color:var(--accent);stop-opacity:1");
            const stop2 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
            stop2.setAttribute("offset", "100%");
            stop2.setAttribute("style", "stop-color:var(--success);stop-opacity:1");
            grad.appendChild(stop1);
            grad.appendChild(stop2);
            defs.appendChild(grad);
            svg.insertBefore(defs, svg.firstChild);
          }
          setTimeout(() => {
            arc.style.transition = "stroke-dashoffset 1.2s ease-in-out";
            arc.setAttribute("stroke-dashoffset", offset);
          }, 300);
        }
      }, 1000);
    }

    function renderTenthTestView() {
      const timerEl = document.getElementById("tenthTimerValue");
      const countdownEl = document.getElementById("tenthCountdownTimer");
      const chartContainer = document.getElementById("tenthSphereChartContainer");
      const detailsEl = document.getElementById("tenthTestDetails");
      let timeLeft = 20;
      timerEl.textContent = timeLeft;
      chartContainer.style.display = "none";
      detailsEl.style.display = "none";
      const countdown = setInterval(() => {
        timeLeft--;
        timerEl.textContent = timeLeft;
        if (timeLeft <= 0) {
          clearInterval(countdown);
          countdownEl.style.display = "none";
          chartContainer.style.display = "flex";
          detailsEl.style.display = "block";
          const percentage = 56;
          const radius = 45;
          const circumference = 2 * Math.PI * radius;
          const offset = circumference - (percentage / 100) * circumference;
          const arc = document.getElementById("tenthProgressArc");
          arc.setAttribute("d", `M 5 50 A 45 45 0 1 1 ${50 + radius} ${50}`);
          arc.setAttribute("stroke-dasharray", circumference);
          arc.setAttribute("stroke-dashoffset", circumference);
          const svg = arc.closest('svg');
          if (!svg.querySelector('defs')) {
            const defs = document.createElementNS("http://www.w3.org/2000/svg", "defs");
            const grad = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient");
            grad.setAttribute("id", "grad1");
            grad.setAttribute("x1", "0%");
            grad.setAttribute("y1", "0%");
            grad.setAttribute("x2", "100%");
            grad.setAttribute("y2", "100%");
            const stop1 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
            stop1.setAttribute("offset", "0%");
            stop1.setAttribute("style", "stop-color:var(--accent);stop-opacity:1");
            const stop2 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
            stop2.setAttribute("offset", "100%");
            stop2.setAttribute("style", "stop-color:var(--success);stop-opacity:1");
            grad.appendChild(stop1);
            grad.appendChild(stop2);
            defs.appendChild(grad);
            svg.insertBefore(defs, svg.firstChild);
          }
          setTimeout(() => {
            arc.style.transition = "stroke-dashoffset 1.2s ease-in-out";
            arc.setAttribute("stroke-dashoffset", offset);
          }, 300);
        }
      }, 1000);
    }

    function showContent(target) {
      document.querySelectorAll('.content-area').forEach(area => area.classList.remove('active'));
      document.getElementById(`${target}-content`).classList.add('active');
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.toggle('active', item.dataset.target === target);
      });
    }

    document.querySelectorAll('[data-target]').forEach(item => {
      item.addEventListener('click', e => showContent(e.currentTarget.dataset.target));
    });

    // CAPTCHA on load
    let currentCaptcha = generateCaptcha();

    document.getElementById("captchaDisplay").addEventListener("click", () => {
      currentCaptcha = generateCaptcha();
    });

    document.getElementById("searchBtn").addEventListener("click", () => {
      const rollNo = parseInt(document.getElementById("rollNo").value);
      const captchaInput = document.getElementById("captchaInput").value.trim().toUpperCase();
      if (captchaInput !== currentCaptcha) {
        alert("Invalid CAPTCHA. Please try again.");
        currentCaptcha = generateCaptcha();
        return;
      }
      const result = studentResults.find(s => s.rollNo === rollNo);
      if (!result) return alert("No result found.");
      document.getElementById("shivaMarksheet").classList.add("hidden");
      document.getElementById("kamalMarksheet").classList.add("hidden");
      document.getElementById("ninthTestView").style.display = "none";
      document.getElementById("tenthTestView").style.display = "none";
      if (rollNo === 7375) {
        renderKamalResult(result, 0);
        document.getElementById("kamalMarksheet").classList.remove("hidden");
      } else {
        document.getElementById("shivaResultName").textContent = result.name;
        document.getElementById("shivaResultRollNo").textContent = result.rollNo;
        document.getElementById("shivaResultClass").textContent = result.class;
        generateBiologyTestSelectorButtons(result.biology.length);
        generateEnglishTestSelectorButtons(result.english.length);
        renderBiologyResult(result, 0);
        document.getElementById("shivaMarksheet").classList.remove("hidden");
      }
    });

    // Subject switching
    document.addEventListener("click", e => {
      if (!e.target.classList.contains("subject-btn")) return;
      document.querySelectorAll('.subject-btn').forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
      const subject = e.target.dataset.subject;
      if (subject === 'biology') {
        document.getElementById('biologySection').classList.add('active');
        document.getElementById('englishSection').classList.remove('active');
      } else {
        document.getElementById('biologySection').classList.remove('active');
        document.getElementById('englishSection').classList.add('active');
        const rollNo = parseInt(document.getElementById("rollNo").value);
        const result = studentResults.find(s => s.rollNo === rollNo);
        if (result) renderEnglishResult(result, 0);
      }
    });

    // Test switching
    document.addEventListener("click", e => {
      if (!e.target.classList.contains("test-selector-btn")) return;
      const container = e.target.closest('.test-selector-container');
      if (!container) return;
      container.querySelectorAll('.test-selector-btn').forEach(b => b.classList.remove('active'));
      e.target.classList.add('active');
      const rollNo = parseInt(document.getElementById("rollNo").value);
      const result = studentResults.find(s => s.rollNo === rollNo);
      if (!result) return;
      const testIndex = parseInt(e.target.dataset.test);
      if (rollNo === 7375) {
        renderKamalResult(result, testIndex);
      } else if (rollNo === 7374) {
        const isBiologySection = document.getElementById('biologySection').classList.contains('active');
        if (isBiologySection) {
          if (testIndex === 8) {
            document.getElementById('shivaMarksheet').classList.add('hidden');
            const ninthView = document.getElementById('ninthTestView');
            ninthView.style.display = 'block';
            setTimeout(() => ninthView.style.opacity = '1', 50);
            renderNinthTestView();
          } else if (testIndex === 9) {
            document.getElementById('shivaMarksheet').classList.add('hidden');
            const tenthView = document.getElementById('tenthTestView');
            tenthView.style.display = 'block';
            setTimeout(() => tenthView.style.opacity = '1', 50);
            renderTenthTestView();
          } else {
            document.getElementById('ninthTestView').style.display = 'none';
            document.getElementById('tenthTestView').style.display = 'none';
            document.getElementById('shivaMarksheet').classList.remove('hidden');
            renderBiologyResult(result, testIndex);
          }
        } else {
          renderEnglishResult(result, testIndex);
        }
      }
    });

    document.addEventListener("DOMContentLoaded", () => {
      showContent("notifications");
      currentCaptcha = generateCaptcha();
    });
  </script>
</body>
</html>
